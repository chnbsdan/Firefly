---
// src/components/layout/GlobalStyles.astro
---

<style is:global>
  /* 基础全局样式 */
  :root {
    --primary-color: #3b82f6;
    --secondary-color: #64748b;
    --accent-color: #f59e0b;
    --text-primary: #1f2937;
    --text-secondary: #6b7280;
    --bg-primary: #ffffff;
    --bg-secondary: #f8fafc;
    --border-color: #e5e7eb;
  }

  /* 暗色主题变量 */
  @media (prefers-color-scheme: dark) {
    :root {
      --text-primary: #f9fafb;
      --text-secondary: #d1d5db;
      --bg-primary: #111827;
      --bg-secondary: #1f2937;
      --border-color: #374151;
    }
  }

  /* 重置样式 */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    line-height: 1.6;
    color: var(--text-primary);
    background-color: var(--bg-primary);
    transition: color 0.3s ease, background-color 0.3s ease;
  }

  a {
    color: var(--primary-color);
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }

  img {
    max-width: 100%;
    height: auto;
  }

  /* 滚动条样式 */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--bg-secondary);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--secondary-color);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--primary-color);
  }
</style>

<script is:inline>
/* 性能优化的鼠标点击特效 */
document.addEventListener('DOMContentLoaded', function() {
  var a_idx = 0;
  var texts = ["天真", "富强", "民主", "文明", "和谐", "自由", "平等", "公正", "法治", "爱国", "敬业", "诚信", "友善"];
  var activeEffects = 0;
  var maxEffects = 5; // 同时最多显示5个特效

  document.body.addEventListener('click', function(e) {
    // 限制同时显示的特效数量
    if (activeEffects >= maxEffects) return;
    
    activeEffects++;
    
    var span = document.createElement('span');
    span.textContent = texts[a_idx];
    a_idx = (a_idx + 1) % texts.length;
    
    var x = e.pageX;
    var y = e.pageY;
    
    Object.assign(span.style, {
      zIndex: '999999',
      top: (y - 20) + 'px',
      left: x + 'px',
      position: 'absolute',
      fontWeight: 'bold',
      color: '#ff6651',
      fontSize: '22px',
      fontFamily: 'Microsoft YaHei, SimHei, sans-serif',
      textShadow: '2px 2px 6px rgba(0,0,0,0.4)',
      pointerEvents: 'none',
      userSelect: 'none',
      whiteSpace: 'nowrap',
      willChange: 'transform, opacity'
    });
    
    document.body.appendChild(span);
    
    const animation = span.animate([
      { transform: 'translateY(0) scale(1)', opacity: 1 },
      { transform: 'translateY(-160px) scale(1.2)', opacity: 0 }
    ], {
      duration: 1500,
      easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
    });
    
    animation.onfinish = function() {
      activeEffects--;
      if (span.parentNode) {
        span.parentNode.removeChild(span);
      }
    };
  });
});
</script>
